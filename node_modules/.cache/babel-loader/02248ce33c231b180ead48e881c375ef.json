{"ast":null,"code":"var _jsxFileName = \"D:\\\\node js\\\\internet-services\\\\frontend\\\\src\\\\components\\\\layout\\\\UserDescription.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport '../pages/admin/AdminPage.css';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction UserDescription() {\n  _s();\n\n  const [AdminData, setAdminData] = useState({\n    loaded: false,\n    data: {},\n    length: 0,\n    refresh: false\n  });\n  const [refreshKey, setRefreshKey] = useState(0);\n  useEffect(() => {\n    console.log('eee', refreshKey);\n    axios.get(\"http://localhost:5000/api/getAllUsers\").then(res => {\n      if (res.data.success === true) {\n        setAdminData({\n          loaded: true,\n          data: res.data.data,\n          length: res.data.length,\n          refresh: true\n        });\n      } else {\n        setAdminData({\n          loaded: false,\n          data: \"Error in loading data\"\n        });\n      }\n    });\n  }, [refreshKey]);\n\n  const Delete = email => {\n    console.log('okk');\n    axios.post(`http://localhost:5000/api/DeleteUser?email=${email}`).then(res => {\n      if (res.data.success === true) {\n        /* axios.get(\"http://localhost:5000/api/getAllUsers\")\r\n         .then(res => {\r\n             if(res.data.success===true){\r\n             setAdminData({ loaded: true,data:res.data.data,length:res.data.length });*/\n        setRefreshKey(refreshKey + 1);\n        /*\r\n        console.log('zzz','',AdminData.data);\r\n        }else {\r\n        setAdminData({ loaded: false,data:\"Error in loading data\" });\r\n        }\r\n        })\r\n        console.log('deleted');\r\n        */\n      } else {\n        console.log('error in deleting user');\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"UsersSection\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"UsersSectionTitle\",\n        children: \"USERS LIST\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"UsersConainer\",\n        children: !AdminData.refresh && !AdminData.loaded ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"Loading ...\",\n          children: \"Error\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 59\n        }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n          id: \"customers\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"EMAIL\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"FIRST NAME\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"LAST NAME\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 18\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: AdminData.data.map((user, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: user._id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 31\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: user.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 31\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: user.firstName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 31\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: user.lastName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 31\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: event => Delete(user.email),\n                  className: \"btn btn-danger\",\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 35\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 31\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 27\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 16\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(UserDescription, \"6AVRGW2V/PNFZTU4YlX/7GLvwUs=\");\n\n_c = UserDescription;\nexport default UserDescription;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserDescription\");","map":{"version":3,"sources":["D:/node js/internet-services/frontend/src/components/layout/UserDescription.js"],"names":["React","useState","useEffect","axios","UserDescription","AdminData","setAdminData","loaded","data","length","refresh","refreshKey","setRefreshKey","console","log","get","then","res","success","Delete","email","post","map","user","i","_id","firstName","lastName","event"],"mappings":"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","sourcesContent":["import React,{ useState, useEffect } from 'react';\r\nimport '../pages/admin/AdminPage.css'\r\nimport axios from \"axios\";\r\n\r\nfunction UserDescription () {\r\n\r\nconst [ AdminData, setAdminData] = useState({     \r\n  loaded: false,\r\n  data:{},\r\n  length:0,\r\n  refresh:false\r\n\r\n});\r\n\r\nconst [refreshKey, setRefreshKey] = useState(0);\r\n\r\n     \r\nuseEffect(() => {\r\nconsole.log('eee',refreshKey)\r\naxios.get(\"http://localhost:5000/api/getAllUsers\")\r\n      .then(res => {\r\n          if(res.data.success===true){\r\n          setAdminData({ loaded: true,data:res.data.data,length:res.data.length,refresh:true });\r\n          \r\n          }else {\r\n          setAdminData({ loaded: false,data:\"Error in loading data\" });\r\n          }\r\n      })\r\n}, [refreshKey]);\r\n       \r\n   const Delete = (email) => {\r\n      console.log('okk');\r\n      axios.post(`http://localhost:5000/api/DeleteUser?email=${email}`)\r\n      .then(res => {\r\n          if(res.data.success===true){\r\n           \r\n           /* axios.get(\"http://localhost:5000/api/getAllUsers\")\r\n            .then(res => {\r\n                if(res.data.success===true){\r\n                setAdminData({ loaded: true,data:res.data.data,length:res.data.length });*/\r\n                setRefreshKey(refreshKey +1)/*\r\n                console.log('zzz','',AdminData.data);\r\n                }else {\r\n                setAdminData({ loaded: false,data:\"Error in loading data\" });\r\n                }\r\n            })\r\n            console.log('deleted');\r\n          */\r\n          }else {\r\n          console.log('error in deleting user')\r\n          }\r\n      })\r\n    }\r\n\r\n     \r\n  return (\r\n      <>      \r\n      <div className='UsersSection'>\r\n      <h1 className='UsersSectionTitle'>USERS LIST</h1>\r\n          <div className=\"UsersConainer\">\r\n              {!AdminData.refresh && !AdminData.loaded  ? <p className='Loading ...'>Error</p> :                \r\n              <table id=\"customers\" >\r\n                 <thead>\r\n              <tr>\r\n                  <th>ID</th>\r\n                  <th>EMAIL</th>\r\n                  <th>FIRST NAME</th>\r\n                  <th>LAST NAME</th>\r\n              </tr>  \r\n               </thead>  \r\n           \r\n               <tbody>                  \r\n                      {    AdminData.data.map((user, i) =>\r\n                          <tr >\r\n                              <td>{user._id}</td>\r\n                              <td>{user.email}</td>\r\n                              <td>{user.firstName}</td>\r\n                              <td>{user.lastName}</td>\r\n                              <td><button type=\"button\" onClick={(event)=>Delete(user.email)} className=\"btn btn-danger\">Delete</button>\r\n                              </td>\r\n                          </tr>)\r\n                      }\r\n                 </tbody>  \r\n              </table>\r\n              }           \r\n\r\n          </div>\r\n      </div>\r\n      </>\r\n    )\r\n}\r\n\r\nexport default UserDescription"]},"metadata":{},"sourceType":"module"}