{"ast":null,"code":"var _jsxFileName = \"D:\\\\node js\\\\internet-services\\\\frontend\\\\src\\\\components\\\\pages\\\\admin\\\\AdminPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport './AdminPage.css';\nimport AdminNavBar from '../../layout/AdminNavbar';\nimport UserDescription from '../../layout/UserDescription';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction AdminPage() {\n  _s();\n\n  const [AdminData, setAdminData] = useState({\n    loaded: false,\n    data: {},\n    length: 0,\n    offers_loaded: false\n  });\n  const [refreshKey, setRefreshKey] = useState(0);\n  /*const SendIndex=({id})=>{\r\n    let row=[...AdminData.data]\r\n    row.splite(id,1)\r\n    setAdminData({data:row})\r\n  \r\n  }*/\n\n  useEffect(() => {\n    // <div>{count}</div>\n    axios.get(\"http://localhost:5000/api/getAllUsers\").then(res => {\n      if (res.data.success === true) {\n        setAdminData({\n          loaded: true,\n          data: res.data.data,\n          length: res.data.length\n        });\n      } else {\n        setAdminData({\n          loaded: false,\n          data: \"Error in loading data\"\n        });\n      }\n    });\n  }, [refreshKey]); // Trigger update\n\n  /*deleteRow(id){\r\n   console.log('aaaa',id)\r\n   let row=[...this.state.data]\r\n   console.log('aaaa',row)\r\n   row.splice(id, 1)\r\n   this.setState({ data:row });\r\n   }*/\n\n  const Delete = (event, email) => {\n    console.log('okk');\n    axios.post(`http://localhost:5000/api/DeleteUser?email=${email}`).then(res => {\n      if (res.data.success === true) {\n        axios.get(\"http://localhost:5000/api/getAllUsers\").then(res => {\n          if (res.data.success === true) {\n            setAdminData({\n              loaded: true,\n              data: res.data.data,\n              length: res.data.length\n            });\n            setRefreshKey(refreshKey => refreshKey + 1);\n            console.log('zzz');\n          } else {\n            setAdminData({\n              loaded: false,\n              data: \"Error in loading data\"\n            });\n          }\n        });\n        console.log('deleted');\n      } else {\n        console.log('error in deleting user');\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(AdminNavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"HomePageAdmin\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"titleADmin\",\n        children: \"ADMIN PANEL\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid-item\",\n          id: \"item1\",\n          children: \"Users\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid-item\",\n          id: \"item2\",\n          children: \"Offers\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid-item\",\n          id: \"item3\",\n          children: \"Invoices\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid-item\",\n          id: \"item4\",\n          children: \"subscription\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"UsersSection\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"UsersConainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"UsersSectionTitle\",\n          children: \"USERS LIST\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 17\n        }, this), !AdminData.loaded ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: \"Error\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 39\n        }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n          id: \"customers\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"EMAIL\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"FIRST NAME\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"LAST NAME\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 20\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: AdminData.data.map((user, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: user._id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: user.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: user.firstName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: user.lastName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: event => Delete(event, i, user.email),\n                  className: \"btn btn-danger\",\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 29\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 18\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"input-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Offers\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"input-content-wrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"dl\", {\n          class: \"inputbox\",\n          children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n            class: \"inputbox-title\",\n            children: \"Internet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n            class: \"inputbox-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"input0\",\n              type: \"text\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"input0\",\n              children: \"ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              class: \"underline\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"dl\", {\n          class: \"inputbox\",\n          children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n            class: \"inputbox-title\",\n            children: \"Calls\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n            class: \"inputbox-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"input1\",\n              type: \"text\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"input1\",\n              children: \"Calls\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              class: \"underline\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"dl\", {\n          class: \"inputbox\",\n          children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n            class: \"inputbox-title\",\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n            class: \"inputbox-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"input2\",\n              type: \"text\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"input2\",\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              class: \"underline\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"btns\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"btn_add\",\n            class: \"btn btn-info\",\n            children: \"Add new offer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(AdminPage, \"iWd7MnGtNskCUg6R5n2/IdodvlY=\");\n\n_c = AdminPage;\nexport default AdminPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminPage\");","map":{"version":3,"sources":["D:/node js/internet-services/frontend/src/components/pages/admin/AdminPage.js"],"names":["React","useState","useEffect","AdminNavBar","UserDescription","axios","AdminPage","AdminData","setAdminData","loaded","data","length","offers_loaded","refreshKey","setRefreshKey","get","then","res","success","Delete","event","email","console","log","post","map","user","i","_id","firstName","lastName"],"mappings":"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","sourcesContent":["import React,{ useState, useEffect } from 'react';\r\nimport './AdminPage.css';\r\nimport AdminNavBar from '../../layout/AdminNavbar';\r\nimport UserDescription from '../../layout/UserDescription';\r\nimport axios from \"axios\";\r\n\r\n\r\n\r\nfunction  AdminPage () {\r\n    \r\n  const [ AdminData, setAdminData] = useState({     \r\n    loaded: false,\r\n    data:{},\r\n    length:0,\r\n    offers_loaded:false,\r\n\r\n});\r\n\r\nconst [refreshKey, setRefreshKey] = useState(0);\r\n\r\n/*const SendIndex=({id})=>{\r\n  let row=[...AdminData.data]\r\n  row.splite(id,1)\r\n  setAdminData({data:row})\r\n\r\n}*/\r\n       \r\nuseEffect(() => {\r\n \r\n  // <div>{count}</div>\r\n  axios.get(\"http://localhost:5000/api/getAllUsers\")\r\n        .then(res => {\r\n            if(res.data.success===true){\r\n            setAdminData({ loaded: true,data:res.data.data,length:res.data.length });\r\n            }else {\r\n            setAdminData({ loaded: false,data:\"Error in loading data\" });\r\n            }\r\n        })\r\n\r\n}, [refreshKey]);\r\n         \r\n\r\n        // Trigger update\r\n      \r\n       \r\n       /*deleteRow(id){\r\n        console.log('aaaa',id)\r\n        let row=[...this.state.data]\r\n        console.log('aaaa',row)\r\n        row.splice(id, 1)\r\n        this.setState({ data:row });\r\n\r\n      }*/\r\n      const Delete = (event,email) => {\r\n        \r\n        console.log('okk');\r\n        axios.post(`http://localhost:5000/api/DeleteUser?email=${email}`)\r\n        .then(res => {\r\n            if(res.data.success===true){\r\n             \r\n              axios.get(\"http://localhost:5000/api/getAllUsers\")\r\n              .then(res => {\r\n                  if(res.data.success===true){\r\n                  setAdminData({ loaded: true,data:res.data.data,length:res.data.length });\r\n                  setRefreshKey(refreshKey => refreshKey +1)\r\n                  console.log('zzz');\r\n                  }else {\r\n                  setAdminData({ loaded: false,data:\"Error in loading data\" });\r\n                  }\r\n              })\r\n              console.log('deleted');\r\n            \r\n            }else {\r\n            console.log('error in deleting user')\r\n            }\r\n        })\r\n      }\r\n\r\n       \r\n    return (\r\n        <>\r\n\r\n        <AdminNavBar />\r\n       \r\n\r\n        <div className=\"HomePageAdmin\">\r\n            <h1 className=\"titleADmin\">\r\n            ADMIN PANEL\r\n            </h1>\r\n\r\n            <div className=\"grid-container\">\r\n                <div className=\"grid-item\" id='item1'>Users</div>\r\n                <div className=\"grid-item\" id='item2'>Offers</div>\r\n                <div className=\"grid-item\" id='item3' >Invoices</div>\r\n                <div className=\"grid-item\" id='item4'>subscription</div>\r\n           \r\n            </div>\r\n        </div>\r\n\r\n\r\n        \r\n        <div className='UsersSection'>\r\n            <div className=\"UsersConainer\">\r\n                <h1 className='UsersSectionTitle'>USERS LIST</h1>\r\n                { !AdminData.loaded ? <p className='error'>Error</p> :                \r\n                <table id=\"customers\" >\r\n                   <thead>\r\n                <tr>\r\n                    <th>ID</th>\r\n                    <th>EMAIL</th>\r\n                    <th>FIRST NAME</th>\r\n                    <th>LAST NAME</th>\r\n                </tr>  \r\n                 </thead>  \r\n             \r\n                 <tbody>                  \r\n                        {    AdminData.data.map((user, i) =>\r\n                            <tr >\r\n                                <td>{user._id}</td>\r\n                                <td>{user.email}</td>\r\n                                <td>{user.firstName}</td>\r\n                                <td>{user.lastName}</td>\r\n                                <td><button type=\"button\" onClick={(event)=>Delete(event,i,user.email)} className=\"btn btn-danger\">Delete</button>\r\n                                </td>\r\n                            </tr>)\r\n                        }\r\n                   </tbody>  \r\n                </table>\r\n                }\r\n\r\n                    \r\n\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"input-content\">\r\n            <h1>Offers</h1>\r\n\r\n    <div class=\"input-content-wrap\">\r\n      <dl class=\"inputbox\">\r\n        <dt class=\"inputbox-title\">Internet</dt>\r\n        <dd class=\"inputbox-content\">\r\n          <input id=\"input0\" type=\"text\" required/>\r\n          <label for=\"input0\">ID</label>\r\n          <span class=\"underline\"></span>\r\n        </dd>\r\n      </dl>\r\n      <dl class=\"inputbox\">\r\n        <dt class=\"inputbox-title\">Calls</dt>\r\n        <dd class=\"inputbox-content\">\r\n          <input id=\"input1\" type=\"text\" required/>\r\n          <label for=\"input1\">Calls</label>\r\n          <span class=\"underline\"></span>\r\n        </dd>\r\n      </dl>\r\n      <dl class=\"inputbox\">\r\n        <dt class=\"inputbox-title\">Description</dt>\r\n        <dd class=\"inputbox-content\">\r\n          <input id=\"input2\" type=\"text\" required/>\r\n          <label for=\"input2\">Description</label>\r\n          <span class=\"underline\"></span>\r\n        </dd>\r\n      </dl>\r\n      <div class=\"btns\">\r\n          <button id='btn_add' class=\"btn btn-info\">Add new offer</button>\r\n      </div>\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n       \r\n        </>\r\n    )\r\n}\r\n\r\nexport default AdminPage\r\n"]},"metadata":{},"sourceType":"module"}